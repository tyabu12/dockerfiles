sudo: required

language: bash

services:
  - docker

before_install:
  - sudo apt-get update
  - sudo apt-get -y -o Dpkg::Options::="--force-confnew" install docker-ce

before_script:
  - docker build -t tyabu/debian  debian
  - docker build -t tyabu/coq     coq
  - docker build -t tyabu/coqide  coqide
  - docker build -t tyabu/eliom   eliom

script:
  - docker run tyabu/debian
  - docker run tyabu/coq    coqtop -v
  - docker run tyabu/coqide coqtop -v
  - docker run tyabu/eliom  ocsigenserver.opt --version
